<div class="card mb-3">
  <div class="card-body">
    <!-- <div class="d-flex justify-content-between">
      <h4 class="card-title">Departments</h4>
      <button type="button" class="btn btn-outline-info mb-2" (click)="add(content)">Add Department</button>
    </div> -->

    <table class="table table-hover table-striped table-responsive-lg">
      <thead class="bg-secondary">
        <th>Dept #</th>
        <th>Department Name</th>
        <th>Manager SSN</th>
        <th>Manager Start Date</th>
        <th>
          <button type="button" class="btn btn-outline-info" (click)="add(content)">Add Department</button>
        </th>
      </thead>
      <tbody>
        <tr *ngFor="let dept of departments">
          <td>{{ dept.Dnumber }}</td>
          <td>{{ dept.Dname }}</td>
          <td>{{ dept.Mgr_ssn }}</td>
          <td>{{ dept.Mgr_start_date | date:'yyyy-MM-dd' }}</td>
          <td>
            <button type="button" class="btn btn-info mr-2">View Details</button>
            <button type="button" class="btn btn-primary mr-2" (click)="edit(dept, content)">Edit</button>
            <button type="button" class="btn btn-danger"
              [swal]="{ title: 'Delete Record', text: 'Are you sure you want to delete this department?',  showCancelButton: true }"
              (confirm)="remove(dept)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>


<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title">{{ selectedItem.Dname ? selectedItem.Dname : 'Adding Department' }}</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-edit-department [department]="selectedItem" (save)="modal.close($event)" (cancel)="modal.dismiss()">
    </app-edit-department>
  </div>
</ng-template>
